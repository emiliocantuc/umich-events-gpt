
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recommended Umich Events</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
    <div id="header" style="text-align: center;padding-top: 32px;padding-left: 8px;padding-right: 8px;">
        <h1>Recommended events</h1>
        <p>
            By ChatGPT for me to attend this week at the University of Michigan
            <br>
            Updated <span id="updated">...</span> | <a href="https://github.com/emiliocantuc/umich-events-gpt">GitHub</a>
        </p>
    </div>

    {{gpt-events}}
    <br><br>
    {{keyword-events}}

    <script>

        /**
         * Returns str with time since date
         * @param {Date} date Date with which to calculate diff
         * @returns {String} String with time since date
         */
        function timeSince(date) {
            var seconds = Math.floor((new Date() - date) / 1000);

            var interval = seconds / 31536000;

            if (interval > 1) {
                return Math.floor(interval) + " year(s)";
            }
            interval = seconds / 2592000;
            if (interval > 1) {
                return Math.floor(interval) + " month(s)";
            }
            interval = seconds / 86400;
            if (interval > 1) {
                return Math.floor(interval) + " day(s)";
            }
            interval = seconds / 3600;
            if (interval > 1) {
                return Math.floor(interval) + " hour(s)";
            }
            interval = seconds / 60;
            if (interval > 1) {
                return Math.floor(interval) + " minute(s)";
            }
            return Math.floor(seconds) + " second(s)";
        }

        // Fill in updated since info
        let updated = {{updated}};
        document.getElementById("updated").innerHTML = timeSince(new Date(parseInt(updated))) + ' ago';
    </script>

</body>
</html>
